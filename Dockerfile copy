# docker build . --tag donato/patisserie
# Set environment variables for:
#     CLIENT_TOKEN= from discord
#     REDIS_HOST
# Mount
#     /usr/src/app/src = /mnt/user/development/patisserie/src/
#     /usr/src/app/db = /mnt/user/appdata/patisserie/
FROM python:latest-alpine

RUN apk add --no-cache git, python3

# Add your application
COPY ./test.py /app/test.py

# Copy and enable your CRON task
COPY ./mycron /app/mycron
RUN crontab /app/mycron

# Create empty log (TAIL needs this)
RUN touch /tmp/out.log


USER 1000:1000
VOLUME /config

CMD crond && tail -f /tmp/out.log
